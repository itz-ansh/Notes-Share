a) fgets()


**Syntax:-**
                fgets(str, sizeof(str), stdin);


* str: This is the character array (string) where the input will be stored.

* sizeof(str): This specifies the maximum number of characters fgets() will read, including the null terminator ('\0'). sizeof(str) automatically calculates the size of the array, making it a convenient way to prevent buffer overflows.

    For eg) if str is declared as char str[20];, then sizeof(str) will be 20. fgets() will read at most 19 characters and append the null terminator at the end.

* stdin: This is the input stream from which fgets() reads. stdin refers to standard input, typically the keyboard.


--> fgets() is a function used to safely read a string (or a line of text) from a stream, typically stdin (standard input, like the keyboard).

--> It's considered safer than gets() because it limits the number of characters read, preventing buffer overflow issues.

--> fgets() reads the newline character ('\n') when the user presses "Enter." If you want to remove this newline from the input, you can do so manually.

                str[strcspn(str, "\n")] = '\0';  // Remove newline if 
                
    The above line removes the newline ('\n') character added by fgets(), so the output looks cleaner. It replaces the newline with the null terminator ('\0').


* The newline character is not included in the string when
    a) the input length exceeds the buffer size: fgets() stops reading after filling the buffer and doesn't capture the newline.

    Example:

        int main() 
        {
            char str[5];  // Array size is 5

            printf("Enter a string: ");
            fgets(str, sizeof(str), stdin);  // Read up to 4 characters (reserving 1 for '\0')

            printf("You entered: %s", str);  // Print the string

            return 0;
        }
        Input:-   Hello
        Output:-  You entered: Hell

        In this case, "Hell" is stored in str without the newline.

        Explanation:-

        * The input "Hello" contains 5 characters, but the buffer size is only 5, meaning fgets() can read at most 4 characters and then adds the null terminator ('\0').

        * Since fgets() reads 4 characters and fills the buffer, it doesn't include the newline (\n) because the buffer is already full.


    b) EOF is reached before a newline is encountered: fgets() stops reading at EOF, so the newline isn't included.


**Key Points**

--> Reads a maximum of n-1 characters: It reads up to n-1 characters to leave space for the null terminator ('\0), which is automatically appended at the end of the string.

--> Includes newline character: If the user presses "Enter," the newline character (\n) is also stored in the array unless the input is too long and exceeds the limit.

--> Stops on newline or EOF: It stops reading when either a newline character (\n) or an End-of-File (EOF) is encountered.


Eg)

int main() 
{
    char str[10];  // Array size is 10

    printf("Enter a string: ");
    fgets(str, sizeof(str), stdin);  // Read up to 9 characters and append '\0'

    printf("You entered: %s", str);  // Print the string

    return 0;
}

Behavior of fgets():-

If you type "Hello", the string will be stored as: ['H', 'e', 'l', 'l', 'o', '\n', '\0', ..., ...]
Notice that the newline character (\n) is included in the array, and \0 terminates the string.
If you input more than 9 characters, fgets() will stop reading at the 9th character, leaving space for the null terminator.


Code to Remove the Newline:-

#include <stdio.h>
#include <string.h>  // Needed for strcspn()

int main() 
{
    char str[10];  // Array size is 10

    printf("Enter a string: ");
    fgets(str, sizeof(str), stdin);  // Read up to 9 characters and append '\0'

    // Remove newline character if present  OR Remove trailing newline if present
    str[strcspn(str, "\n")] = '\0';  // Replace '\n' with '\0'

    printf("You entered: %s", str);  // Print the string

    return 0;
}

Input:-   Hello
Output:-   You entered: Hello

Without this newline removal, the output would be:-   You entered: Hello
* But with an additional newline (i.e., it would print on a new line after "Hello".





